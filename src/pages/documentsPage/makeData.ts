export interface Document {
  id: number;
  номер: string;
  дата: string;
  комментарий: string;
  тип: 'приходная' | 'расходная' | 'инвентаризация' | 'списание' | 'перемещение' | 'отчёт';
  строки?: DocumentLine[]; // Добавляем строки документа
}

export type DocumentFormData = Omit<Document, 'id'>;

// Базовый интерфейс для строки документа
interface BaseDocumentLine {
  id: number;
  documentId: number;
  товарId: number;
  артикул: string;
  наименование: string;
  единицаИзмерения: string;
  количество: number;
}

// Интерфейс для строки приходной накладной
export interface ПриходнаяСтрока extends BaseDocumentLine {
  тип: 'приходная';
  категория: string;
  ценаЗакупки: number;
  ценаПродажи: number;
  сумма: number; // ценаЗакупки * количество
  зонаХранения: string;
}

// Интерфейс для строки расходной накладной
export interface РасходнаяСтрока extends BaseDocumentLine {
  тип: 'расходная';
  ценаПродажи: number;
  сумма: number; // ценаПродажи * количество
  зонаХранения: string;
}

// Интерфейс для строки инвентаризации
export interface ИнвентаризацияСтрока extends BaseDocumentLine {
  тип: 'инвентаризация';
  фактическоеКоличество: number;
  цена: number; // цена продажи
  суммаПоУчету: number; // цена * количество
  суммаФактическая: number; // цена * фактическоеКоличество
}

// Интерфейс для строки перемещения
export interface ПеремещениеСтрока extends BaseDocumentLine {
  тип: 'перемещение';
  зонаХраненияОткуда: string;
  зонаХраненияКуда: string;
}

// Интерфейс для строки списания
export interface СписаниеСтрока extends BaseDocumentLine {
  тип: 'списание';
  цена: number; // цена закупки
  сумма: number; // цена * количество
  количествоСписания: number;
  суммаСписания: number; // цена * количествоСписания
  зонаХранения: string;
}

// Объединенный тип для строк документа
export type DocumentLine = 
  | ПриходнаяСтрока 
  | РасходнаяСтрока 
  | ИнвентаризацияСтрока 
  | ПеремещениеСтрока 
  | СписаниеСтрока;

// Интерфейс для товара
export interface Product {
  id: number;
  артикул: string;
  наименование: string;
  категория: string;
  ценаЗакупки: number;
  ценаПродажи: number;
  единицаИзмерения: string;
  остаток: number;
  зонаХранения?: string;
}

// Моковые данные товаров
export const mockProducts: Product[] = [
  { id: 1, артикул: '001', наименование: 'Ноутбук HP ProBook', категория: 'Электроника', ценаЗакупки: 45000, ценаПродажи: 55000, единицаИзмерения: 'шт', остаток: 15, зонаХранения: 'A-1' },
  { id: 2, артикул: '002', наименование: 'Мышь беспроводная', категория: 'Электроника', ценаЗакупки: 800, ценаПродажи: 1200, единицаИзмерения: 'шт', остаток: 45, зонаХранения: 'A-2' },
  { id: 3, артикул: '003', наименование: 'Клавиатура механическая', категория: 'Электроника', ценаЗакупки: 2500, ценаПродажи: 3500, единицаИзмерения: 'шт', остаток: 22, зонаХранения: 'A-3' },
  { id: 4, артикул: '004', наименование: 'Бумага А4', категория: 'Канцтовары', ценаЗакупки: 150, ценаПродажи: 250, единицаИзмерения: 'пачка', остаток: 120, зонаХранения: 'B-1' },
  { id: 5, артикул: '005', наименование: 'Ручка шариковая', категория: 'Канцтовары', ценаЗакупки: 15, ценаПродажи: 25, единицаИзмерения: 'шт', остаток: 500, зонаХранения: 'B-2' },
  { id: 6, артикул: '006', наименование: 'Стул офисный', категория: 'Мебель', ценаЗакупки: 3500, ценаПродажи: 5000, единицаИзмерения: 'шт', остаток: 8, зонаХранения: 'C-1' },
  { id: 7, артикул: '007', наименование: 'Стол компьютерный', категория: 'Мебель', ценаЗакупки: 12000, ценаПродажи: 15000, единицаИзмерения: 'шт', остаток: 5, зонаХранения: 'C-2' },
];

// Моковые данные документов с расширенными данными
export const documentsData: Document[] = [
  {
    id: 1,
    номер: 'ПН-2023-001',
    дата: '15.12.2023',
    комментарий: 'Поставка оргтехники от ООО "ТехноМир"',
    тип: 'приходная',
    строки: [
      { 
        id: 1, 
        documentId: 1, 
        товарId: 1, 
        артикул: '001', 
        наименование: 'Ноутбук HP ProBook', 
        категория: 'Электроника',
        единицаИзмерения: 'шт', 
        количество: 10, 
        ценаЗакупки: 45000, 
        ценаПродажи: 55000, 
        сумма: 450000,
        зонаХранения: 'A-1',
        тип: 'приходная'
      },
    ]
  },
  {
    id: 2,
    номер: 'РН-2023-001',
    дата: '16.12.2023',
    комментарий: 'Отгрузка товара клиенту Иванов И.И.',
    тип: 'расходная',
    строки: [
      { 
        id: 2, 
        documentId: 2, 
        товарId: 1, 
        артикул: '001', 
        наименование: 'Ноутбук HP ProBook', 
        единицаИзмерения: 'шт', 
        количество: 2, 
        ценаПродажи: 55000, 
        сумма: 110000,
        зонаХранения: 'A-1',
        тип: 'расходная'
      },
    ]
  },
  {
    id: 3,
    номер: 'АИ-2023-001',
    дата: '17.12.2023',
    комментарий: 'Ежеквартальная инвентаризация склада',
    тип: 'инвентаризация',
    строки: [
      { 
        id: 3, 
        documentId: 3, 
        товарId: 1, 
        артикул: '001', 
        наименование: 'Ноутбук HP ProBook', 
        единицаИзмерения: 'шт', 
        количество: 13, 
        фактическоеКоличество: 12, 
        цена: 55000,
        суммаПоУчету: 715000,
        суммаФактическая: 660000,
        тип: 'инвентаризация'
      },
    ]
  },
  {
    id: 4,
    номер: 'АС-2023-001',
    дата: '18.12.2023',
    комментарий: 'Списание испорченных товаров',
    тип: 'списание',
    строки: [
      { 
        id: 4, 
        documentId: 4, 
        товарId: 5, 
        артикул: '005', 
        наименование: 'Ручка шариковая', 
        единицаИзмерения: 'шт', 
        количество: 50, 
        количествоСписания: 50,
        цена: 15,
        сумма: 750,
        суммаСписания: 750,
        зонаХранения: 'B-2',
        тип: 'списание'
      },
    ]
  },
  {
    id: 5,
    номер: 'ПМ-2023-001',
    дата: '19.12.2023',
    комментарий: 'Перемещение товаров между складами',
    тип: 'перемещение',
    строки: [
      { 
        id: 5, 
        documentId: 5, 
        товарId: 6, 
        артикул: '006', 
        наименование: 'Стул офисный', 
        единицаИзмерения: 'шт', 
        количество: 2, 
        зонаХраненияОткуда: 'C-1',
        зонаХраненияКуда: 'C-3',
        тип: 'перемещение'
      },
    ]
  },
  {
    id: 6,
    номер: 'ОТЧ-2023-001',
    дата: '20.12.2023',
    комментарий: 'Отчёт об остатках товаров на складе за декабрь 2023',
    тип: 'отчёт',
  },
  {
    id: 7,
    номер: 'ПН-2023-002',
    дата: '21.12.2023',
    комментарий: 'Поставка канцтоваров от ООО "Канцелярский рай"',
    тип: 'приходная',
  },
  {
    id: 8,
    номер: 'ОТЧ-2023-002',
    дата: '22.12.2023',
    комментарий: 'Отчёт о движении товаров за IV квартал 2023',
    тип: 'отчёт',
  },
  {
    id: 9,
    номер: 'ОТЧ-2023-003',
    дата: '23.12.2023',
    комментарий: 'Отчёт о товарах с истекающим сроком годности',
    тип: 'отчёт',
  },
];

// Зоны хранения для выпадающих списков
export const storageZones = [
  'A-1', 'A-2', 'A-3', 'A-4',
  'B-1', 'B-2', 'B-3', 'B-4',
  'C-1', 'C-2', 'C-3', 'C-4',
  'Холодильная камера 1', 'Холодильная камера 2',
  'Секция 1', 'Секция 2', 'Секция 3'
];